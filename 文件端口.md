## 该文件管理部分用于教学视频相关文件的上传，AI部分请前往AI服务器（别用错了那就找不回来了）

## 1.服务器配置

文件服务器与数据库服务器位于同一个服务器上，目前文件服务器使用的端口是
http://47.121.177.100:5002

## 2.文件部分的端口支持

| **API 路径**         | **请求方法** | **功能描述**     | **关键参数/说明**                                            | **返回示例**                                                 |
| -------------------- | ------------ | ---------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| `/upload`            | `POST`       | **文件上传**     | - `file`：文件字段（必须） - 支持格式：`mp4, avi, mov, mkv, flv, wmv, webm, m4v, mpg, mpeg, 3gp` - 最大文件大小：2GB | 成功：`{success: true, filename: "20250526_123456a7b8.mp4", url: "http://47.121.177.100:5002/video_data/20250526_123456a7b8.mp4"}` 失败：`{success: false, error: "File too large!"}` |
| `/files/<filename>`  | `GET`        | **文件下载**     | - `<filename>`：安全处理后的文件名（通过`secure_filename`） - 仅返回文件内容（非附件下载） | 返回文件二进制流（HTTP 200） 文件不存在：`{success: false, error: "No such file!"}` (404) |
| `/list`              | `GET`        | **列出所有文件** | - 无参数 - 按修改时间倒序排序（最新文件在前）                | `{success: true, files: [{filename: "20250526_123456a7b8.mp4", size: 1500000000, modified: "2025-05-26 12:34:56"}], count: 1}` |
| `/delete/<filename>` | `DELETE`     | **删除文件**     | - `<filename>`：安全处理后的文件名 - **注意：必须使用`DELETE`方法**（非GET） | 成功：`{success: true, message: "File 20250526_123456a7b8.mp4 is already been delete!"}` 文件不存在：`404` |
| `/info`              | `GET`        | **获取服务信息** | - 无参数 - 返回磁盘空间（GB）、最大文件大小、支持格式列表    | `{success: true, server_ip: "47.121.177.100", server_port: 5002, disk_free_gb: 120.5, max_file_size_gb: 2.0, allowed_extensions: ["mp4", "avi", ...]}` |
| `/health`            | `GET`        | **健康检查**     | - 无参数 - 验证服务状态、上传目录是否存在及可写性            | `{status: "healthy", timestamp: "2025-05-26 12:34:56", upload_folder_exists: true, upload_folder_writable: true}` |

